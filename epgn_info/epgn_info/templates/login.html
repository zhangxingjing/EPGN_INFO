<!DOCTYPE html
    PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">

<head>
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
    <title>EPGN login</title>
    <link rel="stylesheet" href="../../../epgn_front_end/layui/css/layui.css">
    <link rel="stylesheet" href="../../../epgn_front_end/layui/css/login.css">
    <link rel="stylesheet" href="../../../epgn_front_end/layui/css/admin.css">
    <!-- <script src="../../../epgn_front_end/js/jquery-3.4.1.js"></script> -->
    <script src="../../../epgn_front_end/js/vue_2.6.10.js"></script>
</head>

<body layadmin-themealias="ocean" class="layui-layout-body">
    <div id="LAY_app" class="layadmin-tabspage-none">
        <div class="layadmin-user-login layadmin-user-display-show" id="LAY-user-login" style="display: none;">
            <div class="layadmin-user-login-main">
                <div class="layadmin-user-login-box layadmin-user-login-header">
                    <img src="../../../epgn_front_end/image/dazhong.png" alt="上汽大众">
                </div>
                <div class="layadmin-user-login-box layadmin-user-login-body layui-form" id="app">
                    <form id="login-form" @submit.prevent="on_submit">
                        <div class="layui-form-item">
                            <label class="layadmin-user-login-icon layui-icon layui-icon-username"
                                for="LAY-user-login-username"></label>
                            <input type="text" name="username" id="LAY-user-login-username" lay-verify="required"
                                placeholder="用户名" class="layui-input">
                        </div>
                        <div class="layui-form-item">
                            <label class="layadmin-user-login-icon layui-icon layui-icon-password"
                                for="LAY-user-login-password"></label>
                            <input type="password" name="password" id="LAY-user-login-password" lay-verify="required"
                                placeholder="密码" class="layui-input">
                        </div>
                        <div class="layui-form-item" style="margin-bottom: 20px;">
                            <input type="checkbox" name="remember" lay-skin="primary" title="记住密码">
                            <div class="layui-unselect layui-form-checkbox" lay-skin="primary">
                                <span>记住密码</span>
                                <i class="layui-icon layui-icon-ok"></i>
                            </div>
                            <a lay-href="/user/forget" class="layadmin-user-jump-change layadmin-link"
                                style="margin-top: 7px;">忘记密码？</a>
                        </div>
                        <div class="layui-form-item">
                            <button class="layui-btn layui-btn-fluid" lay-submit="" lay-filter="LAY-user-login-submit">登
                                入
                            </button>
                        </div>
                    </form>
                </div>
            </div>

        </div>
        <script src="../../../epgn_front_end/layui/layui.js"></script>
        <script>
            layui.use(['admin', 'form', 'user'], function () {
                var $ = layui.$,
                    setter = layui.setter,
                    admin = layui.admin,
                    form = layui.form,
                    router = layui.router(),
                    search = router.search;

                form.render();

                //提交
                form.on('submit(LAY-user-login-submit)', function (obj) {

                    //请求登入接口
                    admin.req({
                        url: './json/user/login.js' //实际使用请改成服务端真实接口
                        ,
                        data: obj.field,
                        done: function (res) {

                            //请求成功后，写入 access_token
                            layui.data(setter.tableName, {
                                key: setter.request.tokenName,
                                value: res.data.access_token
                            });

                            //登入成功的提示与跳转
                            layer.msg('登入成功', {
                                offset: '15px',
                                icon: 1,
                                time: 1000
                            }, function () {
                                location.hash = search.redirect ?
                                    decodeURIComponent(search.redirect) : '/';
                            });
                        }
                    });

                });


                //实际使用时记得删除该代码
                layer.msg('为了方便演示，用户名密码可随意输入', {
                    offset: '15px',
                    icon: 1
                });

            });
        </script>
    </div>
    <script src="//res.layui.com/layui/rc/layui.js?t=20181101-1"></script>
    <script>
        layui.config({
            base: './dist/' //指定 layuiAdmin 项目路径
            ,
            version: '1.2.1'
        }).use('index', function () {
            var layer = layui.layer,
                admin = layui.admin;
            layer.ready(function () {
                admin.popup({
                    content: '单页面专业版默认未开启“多标签”功能，实际运用时，你可以自定义是否开启',
                    area: '300px',
                    btnAlign: 'c',
                    shade: false
                });
            });
        });
    </script>

    <script>
        var _hmt = _hmt || [];
        (function () {
            var hm = document.createElement("script");
            hm.src = "https://hm.baidu.com/hm.js?d214947968792b839fd669a4decaaffc";
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(hm, s);
        })();
    </script>


    <style id="LAY_layadmin_theme">
        .layui-side-menu,
        .layadmin-pagetabs .layui-tab-title li:after,
        .layadmin-pagetabs .layui-tab-title li.layui-this:after,
        .layui-layer-admin .layui-layer-title,
        .layadmin-side-shrink .layui-side-menu .layui-nav>.layui-nav-item>.layui-nav-child {
            background-color: #344058 !important;
        }

        .layui-nav-tree .layui-this,
        .layui-nav-tree .layui-this>a,
        .layui-nav-tree .layui-nav-child dd.layui-this,
        .layui-nav-tree .layui-nav-child dd.layui-this a {
            background-color: #1E9FFF !important;
        }

        .layui-layout-admin .layui-logo {
            background-color: #1E9FFF !important;
        }
    </style>
    <div class="layui-layer-move"></div>
</body>

</html>